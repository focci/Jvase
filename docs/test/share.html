<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Share Test</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="renderer" content="webkit" />
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="yes" name="apple-touch-fullscreen" />
    <meta name="wap-font-scale" content="no">
    <meta content="telephone=no,email=no" name="format-detection" />
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
    <meta content="Jvase" name="keywords" />
    <meta content="Jvase" name="description" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="页面标题">
    <meta property="og:description" content="页面描述">
    <meta property="og:image" content="https://raw.githubusercontent.com/focci/asset/master/img/jvase/logo/logo-bgc.jpg">
    <meta property="og:url" content="http://jvase.com/test/share.html">
</head>
<body>
    <h2>Share Test2</h2>
    <img src="https://s.hougarden.com/image/da/fe/dafe4540c1c9889735fa49e08347423a.jpg" style="max-width:100%">
    <img src="https://raw.githubusercontent.com/focci/asset/master/pay/alipay.jpg" width="0" height="0" />
    <div style="display: none;">
        <img src="https://raw.githubusercontent.com/focci/asset/master/pay/wechat.jpg" width="100" />
    </div>
    <img src="https://s.hougarden.com/image/a2/a2/a2a207e6d4e20646601c0391539dfdb5.jpg" style="max-width:100%">

    <script src="https://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script>
    <script>
        var tit = '页面标题a';
        var img = 'https://s.hougarden.com/image/af/d8/afd821a6f6a51a6e3a12627173b06bf8.jpg?x-oss-process=image/quality,q_80';
        var con = '页面描述b';
        var link = 'http://jvase.com/test/share.html';
        document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
        // 发送给好友 
        WeixinJSBridge.on('menu:share:appmessage', function (argv) {
            WeixinJSBridge.invoke('sendAppMessage', {
            "appid": "123",
            "img_url": img,
            "img_width": "160",
            "img_height": "160",
            "link": link,
            "desc": con,
            "title": tit
            }, function (res) {
            _report('send_msg', res.err_msg);
            })
        });
        // 分享到朋友圈 
        WeixinJSBridge.on('menu:share:timeline', function (argv) {
            WeixinJSBridge.invoke('shareTimeline', {
            "img_url": img,
            "img_width": "160",
            "img_height": "160",
            "link": link,
            "desc": con,
            "title": tit
            }, function (res) {
            _report('timeline', res.err_msg);
            });
        });
        }, false)
    </script>
</body>
</html>

